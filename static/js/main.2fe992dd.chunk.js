(this.webpackJsonpcountdown_webapp=this.webpackJsonpcountdown_webapp||[]).push([[0],{13:function(e,t,n){e.exports={timer:"style_timer__3lsD1",title:"style_title__3_VNy",timer__active:"style_timer__active__2EszR"}},14:function(e,t,n){e.exports={hs:"App_hs__3g6EO",item:"App_item__2XBCw"}},19:function(e,t,n){e.exports={add_button:"style_add_button___aU4-"}},21:function(e,t){var n=function(){setInterval((function(){self.postMessage("tick")}),1e3)}.toString();n=n.substring(n.indexOf("{")+1,n.lastIndexOf("}"));var r=new Blob([n],{type:"application/javascript"}),a=URL.createObjectURL(r);e.exports=a},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(18),c=n.n(i),o=n(24),s=n(3),u=n(14),d=n.n(u),l=n(35),m=n.p+"static/media/close.96841b05.svg",f=n(13),j=n.n(f),b=n(0);var h=function(e){var t=e.onNameChange,n=e.onTimeChange,a=e.onDelete,i=e.onRecordStart,c=e.onRecordStop,o=e.id,u=e.name,d=e.time,l=e.active,f=Object(r.useState)(),h=Object(s.a)(f,2),p=h[0],v=h[1],O=Object(r.useState)(),g=Object(s.a)(O,2),x=g[0],w=g[1],T=Object(r.useState)((function(){return!1})),y=Object(s.a)(T,2),C=y[0],k=y[1],I=Object(r.useState)("alert-info"),N=Object(s.a)(I,2),E=(N[0],N[1],Object(r.useState)(!1)),S=Object(s.a)(E,2),_=S[0],D=S[1];return Object(r.useEffect)((function(){if(d){var e=parseInt(d/60),t=parseInt(d%60);v(e),w(t)}}),[d]),Object(r.useEffect)((function(){}),[l]),Object(b.jsxs)("div",{id:e.id,className:"my-1 rounded-lg ".concat(j.a.timer," ").concat(l?j.a.timer__active:""),children:[Object(b.jsx)("div",{className:"".concat(j.a.title," w-full rounded-t-lg  border border-b-0 border-gray-300 px-1 "),children:Object(b.jsxs)("div",{className:" flex flex-row justify-between items-center",children:[Object(b.jsx)("div",{onClick:function(){return k(!0)},children:C?Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),k(!1),t(e.currentTarget.title.value)},onBlur:function(e){t(e.currentTarget.title.value),k(!1)},children:Object(b.jsx)("input",{autoFocus:!0,autoComplete:"off",type:"text",name:"title"})}):u}),Object(b.jsx)("div",{className:"ml-auto mr-4",children:Object(b.jsx)("button",{onClick:function(){(_?c:i)(),D(!_)},children:_?"Stop":"Record"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"select-none flex items-center rounded-full transition duration-150 hover:elevation-2 transform hover:scale-110",onClick:function(){a(o)},children:Object(b.jsx)("img",{className:"h-4 w-auto",src:m})})})]})}),Object(b.jsx)("div",{className:"border border-t-0 rounded-b-lg  border-gray-300",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=parseInt(e.currentTarget.mins.value),r=parseInt(e.currentTarget.secs.value),a=0;t&&(a+=60*t),r&&(a+=r),n(a)},onBlur:function(e){var t=parseInt(e.currentTarget.mins.value),r=parseInt(e.currentTarget.secs.value),a=0;t&&(a+=60*t),r&&(a+=r),n(a)},className:"text-center py-2",children:[Object(b.jsx)("input",{name:"mins",style:{width:"3em"},type:"number",placeholder:"m",onChange:function(e){return v(e.target.value)},value:p}),Object(b.jsx)("span",{className:"mx-1",children:":"}),Object(b.jsx)("input",{name:"secs",style:{width:"3em"},type:"number",placeholder:"s",onChange:function(e){return w(e.target.value)},value:x})]})})]})},p=n.p+"static/media/close.96841b05.svg",v=n(19),O=n.n(v);function g(e){var t=e.isPlaying,n=void 0!==t&&t,r=e.onChange,a=void 0===r?function(){}:r;return Object(b.jsx)("div",{className:"cursor-pointer",onClick:function(){a(!n)},children:n?Object(b.jsxs)("svg",{style:{fill:"#007bff"},className:"h-8 w-auto",height:"512",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 477.867 477.867",children:[Object(b.jsx)("g",{children:Object(b.jsx)("g",{children:Object(b.jsx)("path",{d:"M187.733,0H51.2c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C204.8,7.641,197.159,0,187.733,0z M170.667,443.733h-102.4v-409.6h102.4V443.733z"})})}),Object(b.jsx)("g",{children:Object(b.jsx)("g",{children:Object(b.jsx)("path",{d:"M426.667,0H290.133c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C443.733,7.641,436.092,0,426.667,0z M409.6,443.733H307.2v-409.6h102.4V443.733z"})})})]}):Object(b.jsx)("svg",{style:{fill:"#007bff"},className:"h-8 w-auto",height:"512",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 477.886 477.886",children:Object(b.jsx)("g",{children:Object(b.jsx)("g",{children:Object(b.jsx)("path",{d:"M476.091,231.332c-1.654-3.318-4.343-6.008-7.662-7.662L24.695,1.804C16.264-2.41,6.013,1.01,1.8,9.442 c-1.185,2.371-1.801,4.986-1.8,7.637v443.733c-0.004,9.426,7.633,17.07,17.059,17.075c2.651,0.001,5.266-0.615,7.637-1.8 L468.429,254.22C476.865,250.015,480.295,239.768,476.091,231.332z M34.133,433.198V44.692l388.506,194.253L34.133,433.198z"})})})})})}function x(e){var t=e.looping,n=void 0!==t&&t,r=e.onChange,a=void 0===r?function(){}:r;return Object(b.jsx)("div",{className:"cursor-pointer",onClick:function(){a(!n)},children:n?Object(b.jsxs)("svg",{className:"h-8 w-auto",style:{fill:"#007bff"},id:"Layer",enableBackground:"new 0 0 64 64",height:"512",viewBox:"0 0 64 64",width:"512",xmlns:"http://www.w3.org/2000/svg",children:[Object(b.jsx)("path",{d:"m19 25h9c1.104 0 2-.896 2-2s-.896-2-2-2h-9c-6.065 0-11 4.935-11 11s4.935 11 11 11h4.172l-1.586 1.586c-.781.781-.781 2.047 0 2.828.391.391.902.586 1.414.586s1.023-.195 1.414-.586l5-5c.781-.781.781-2.047 0-2.828l-5-5c-.781-.781-2.047-.781-2.828 0s-.781 2.047 0 2.828l1.586 1.586h-4.172c-3.859 0-7-3.141-7-7 0-3.86 3.141-7 7-7z"}),Object(b.jsx)("path",{d:"m45 21h-4.172l1.586-1.586c.781-.781.781-2.047 0-2.828s-2.047-.781-2.828 0l-5 5c-.781.781-.781 2.047 0 2.828l5 5c.391.391.902.586 1.414.586s1.023-.195 1.414-.586c.781-.781.781-2.047 0-2.828l-1.586-1.586h4.172c3.859 0 7 3.14 7 7 0 3.859-3.141 7-7 7h-9c-1.104 0-2 .896-2 2s.896 2 2 2h9c6.065 0 11-4.935 11-11s-4.935-11-11-11z"})]}):Object(b.jsxs)("svg",{className:"h-8 w-auto",style:{fill:" #dadada"},id:"Layer",enableBackground:"new 0 0 64 64",height:"512",viewBox:"0 0 64 64",width:"512",xmlns:"http://www.w3.org/2000/svg",children:[Object(b.jsx)("path",{d:"m19 25h9c1.104 0 2-.896 2-2s-.896-2-2-2h-9c-6.065 0-11 4.935-11 11s4.935 11 11 11h4.172l-1.586 1.586c-.781.781-.781 2.047 0 2.828.391.391.902.586 1.414.586s1.023-.195 1.414-.586l5-5c.781-.781.781-2.047 0-2.828l-5-5c-.781-.781-2.047-.781-2.828 0s-.781 2.047 0 2.828l1.586 1.586h-4.172c-3.859 0-7-3.141-7-7 0-3.86 3.141-7 7-7z"}),Object(b.jsx)("path",{d:"m45 21h-4.172l1.586-1.586c.781-.781.781-2.047 0-2.828s-2.047-.781-2.828 0l-5 5c-.781.781-.781 2.047 0 2.828l5 5c.391.391.902.586 1.414.586s1.023-.195 1.414-.586c.781-.781.781-2.047 0-2.828l-1.586-1.586h4.172c3.859 0 7 3.14 7 7 0 3.859-3.141 7-7 7h-9c-1.104 0-2 .896-2 2s.896 2 2 2h9c6.065 0 11-4.935 11-11s-4.935-11-11-11z"})]})})}var w=function(e){var t=e.isStopped,n=e.onChange,r=void 0===n?function(){}:n;return Object(b.jsx)("div",{className:"cursor-pointer",onClick:function(){return r(!t)},children:t?Object(b.jsx)("div",{className:"mx-2 h-auto my-1",style:{width:"2rem"},children:Object(b.jsx)("svg",{style:{fill:"#dadada"},className:"h-8 w-auto",id:"Capa_1",enableBackground:"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsxs)("g",{children:[Object(b.jsx)("path",{d:"m256 0c-141.159 0-256 114.841-256 256s114.841 256 256 256 256-114.841 256-256-114.841-256-256-256zm115 356c0 8.284-6.716 15-15 15h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15z"}),Object(b.jsx)("path",{d:"m171 171h170v170h-170z"})]})})}):Object(b.jsx)("div",{className:"mx-2 h-auto my-1",style:{width:"2rem"},children:Object(b.jsx)("svg",{className:"h-8 w-auto",style:{fill:"#007bff"},id:"Capa_1",enableBackground:"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsxs)("g",{children:[Object(b.jsx)("path",{d:"m256 0c-141.159 0-256 114.841-256 256s114.841 256 256 256 256-114.841 256-256-114.841-256-256-256zm115 356c0 8.284-6.716 15-15 15h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15z"}),Object(b.jsx)("path",{d:"m171 171h170v170h-170z"})]})})})})},T=n(2),y=n(4),C=n.n(y),k=n(5),I=n(25),N=n(10),E=n(20),S=n(26),_=n(23),D=n(21),R=function e(){Object(N.a)(this,e);for(var t={},n=this,r=0,a=0;a<arguments.length;a++){var i=arguments[a];switch(typeof i){case"string":t[i]=[],r++;break;case"object":n=i;break;default:throw new TypeError("Eventjs() only accepts string and object parameters")}}if(0===r)throw new Error("There should be at least one event name (string) for the Eventjs to be useful.");if(n===this&&!(this instanceof e))throw new ReferenceError('Eventjs is not called with "new" keyword and no parameter of type object is passed to it');function c(e){if("string"!==typeof e||!t[e])throw new ReferenceError("The event name does not exist in this event manager: "+e);return!0}return n.on=function(e){c(e);for(var n=1;n<arguments.length;n++){var r=arguments[n];-1===t[e].indexOf(r)&&t[e].push(r)}return this},n.off=function(e){switch(arguments.length){case 0:for(var r in t)t.hasOwnProperty(r)&&n.off(r);break;case 1:c(e),t[e].length=0;break;default:c(e);for(var a=1;a<arguments.length;a++){var i=arguments[a],o=t[e].indexOf(i);-1!==o&&t[e].splice(o,1)}}return this},n.trigger=function(e){c(e);for(var r=[],a=1;a<arguments.length;a++)r.push(arguments[a]);for(var i=t[e],o=[],s=0;s<i.length;s++){var u=i[s];try{u.apply(n,r)}catch(l){o.push({listener:u,error:l})}}if(o.length>0){var d=new Error("At least one of the event listeners was interrupted with an error. See errors");throw console.log(o),d.errors=o,d}return this},n},L=new Worker(n.n(D).a),B=function(e){Object(S.a)(n,e);var t=Object(_.a)(n);function n(){var e;return Object(N.a)(this,n),(e=t.call(this,"tick","finished")).time=void 0,e.tick=function(t){e.trigger("tick",e.time),e.time<=0&&(e.trigger("finished"),e.stop()),e.time--},e.time=0,e}return Object(E.a)(n,[{key:"play",value:function(e){this.time=e,L.addEventListener("message",this.tick)}},{key:"stop",value:function(){L.removeEventListener("message",this.tick),this.time=0}}]),n}(R);function A(e,t){try{return new Notification(e,t),!0}catch(n){console.log(n)}navigator.serviceWorker.getRegistration().then((function(e){return!!e&&(e.showNotification("TimerCards",t),!0)})).catch((function(e){return console.log(e),!1}))}var z=function(e){if("Notification"in window){if("granted"===Notification.permission)return A("TimerCards",{body:e,vibrate:[200,100,200,100,200,100,200]});"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){if("granted"===t)return A("TimerCards",{body:e,vibrate:[200,100,200,100,200,100,200]})}))}else alert("This browser does not support desktop notification")},M=n(22);function U(){var e=Object(r.useState)(-1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(r.useRef)(null);return{play:function(e,t){i.current=new M.Howl({src:[e],format:["webm"],volume:1});var n=i.current.play();t&&setTimeout((function(){i.current&&i.current.stop(n)}),1e3*t),a(n)},pause:function(){i.current&&i.current.pause(n)},stop:function(){i.current&&i.current.stop(n)}}}var G=n(7),P=n.n(G);P.a.setDriver([P.a.INDEXEDDB,P.a.LOCALSTORAGE]);var W={getItem:function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.getItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(e,t){return P.a.setItem(e,t)},removeItem:function(e){return P.a.removeItem(e)}},V=n(6);function H(e,t){switch(t.type){case"ADD_TIMER":var n=t.payload,r=n.id,a=n.name,i=n.time;return Object(T.a)(Object(T.a)({},e),{},Object(V.a)({},r,{id:r,name:a,time:i}));case"DELETE_TIMER":var c=Object(T.a)({},e);return delete c[t.id],c;case"UPDATE_TIMER":var o=t.payload,s=o.id,u=o.name,d=o.time;return Object(T.a)(Object(T.a)({},e),{},Object(V.a)({},s,{id:s,name:u,time:d}))}}function F(){var e=Object(r.useReducer)(H,{}),t=Object(s.a)(e,2),n=t[0],a=t[1];function i(e){return c.apply(this,arguments)}function c(){return(c=Object(k.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getItem(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){W.setItem(e.id,e)}function u(){return(u=Object(k.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r={},t.forEach((function(e){n.push(i(e).then((function(e){e&&(r[e.id]=e)})))})),e.next=5,Promise.all(n);case 5:Object.values(r).map((function(e){return a({type:"ADD_TIMER",payload:e})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{init:function(e){return u.apply(this,arguments)},addTimer:function(e,t){var n=function(e,t){return{id:Object(l.a)(),name:e,time:t}}(e,t);return a({type:"ADD_TIMER",payload:Object(T.a)({},n)}),o(n),n},getTimer:function(e){return n[e]},deleteTimer:function(e){a({type:"DELETE_TIMER",id:e}),function(e){W.removeItem(e)}(e)},updateTimer:function(e,t){var r={id:e,name:t.name||n[e].name,time:t.time||n[e].time};a({type:"UPDATE_TIMER",payload:r}),o(r)},timerStore:n}}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unname",n=Object(r.useState)({id:e,name:t,timers:[]}),a=Object(s.a)(n,2),i=a[0],c=a[1],o=F(),u=o.init,d=o.addTimer,l=o.getTimer,m=o.deleteTimer,f=o.updateTimer,j=o.timerStore;Object(r.useEffect)((function(){e&&p(e).then((function(e){if(e){var t=e.timers;u(t).then((function(){c(e)}))}}))}),[e]);var b=function(e){W.setItem(e.id,e)},h=function(e){W.removeItem(e.id)},p=function(){var e=Object(k.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getItem(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function v(e,t){var n=d(e,t),r=Object(T.a)({},i);return r.timers.push(n.id),b(r),c(r),r}function O(e){var t=Object(T.a)({},i),n=t.timers.filter((function(t){return t!==e}));return n.length!==t.timers.length&&m(e),t.timers=n,b(t),c(t),t}function g(){i.timers.forEach((function(e){m(e)})),h(i)}function x(e){e&&(c(Object(T.a)(Object(T.a)({},i),{},{name:e})),b(Object(T.a)(Object(T.a)({},i),{},{name:e})))}return{addTimerInGroup:v,deleteTimerFromGroup:O,deleteTimerGroup:g,changeGroupName:x,timerGroupStore:i,updateTimer:f,getTimer:l,timerStore:j}}var X=n.p+"static/media/alarm.4ef57659.mp3";function q(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useRef)([]),a=Object(r.useState)(),i=Object(s.a)(a,2),c=i[0],o=i[1];function u(){return(u=Object(k.a)(C.a.mark((function r(){return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 2:e.current=r.sent,n.current=[],t.current=new MediaRecorder(e.current,{mimeType:"audio/webm"}),t.current.addEventListener("dataavailable",(function(e){e.data.size>0&&n.current.push(e.data)})),t.current.addEventListener("stop",(function(e){if(n.current){var t=Object(s.a)(n.current,1)[0];o(new Blob(n.current,{type:t.type}))}})),t.current.start(100);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return{record:function(){return u.apply(this,arguments)},stopRecording:function(){t.current&&(t.current.stop(),t.current=null),e.current&&(e.current.getTracks().forEach((function(e){return e.stop()})),e.current=null);var r=Object(s.a)(n.current,1)[0];return new Blob(n.current,{type:r.type})},audioBlob:c}}function $(e){var t=e.onDelete,n=e.timerCardId,a=e.className,i=function(e){var t=J(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unnamed"),n=t.timerGroupStore,a=t.timerStore,i=Object(I.a)(t,["timerGroupStore","timerStore"]),c=Object(r.useState)({looping:!1,status:"stopped",alarmSound:{}}),o=Object(s.a)(c,2),u=o[0],d=o[1],l=Object(r.useState)({currentTimerId:"",remainingTime:0,time:0}),m=Object(s.a)(l,2),f=m[0],j=m[1],b=Object(r.useRef)(new B),h=Object(r.useState)(!1),p=Object(s.a)(h,2),v=p[0],O=p[1],g=Object(r.useRef)(f),x=Object(r.useRef)(u),w=Object(r.useRef)({}),y=U(),N=y.play;y.pause,y.stop,Object(r.useEffect)((function(){if(e){var t=function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.setItem("runningTimerData"+e,g.current);case 2:return t.next=4,W.setItem("timerCardData"+e,x.current);case 4:return console.log(w.current),t.next=7,W.setItem("customSound"+e,w.current);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}}),[e]),Object(r.useEffect)((function(){var e=function(e){j((function(t){var n=Object.assign({},t);return Object(T.a)(Object(T.a)({},n),{},{remainingTime:e})}))},t=b.current;return t.on("tick",e),function(){t.off("tick",e)}}),[]),Object(r.useEffect)((function(){g.current=f}),[f]),Object(r.useEffect)((function(){x.current=Object(T.a)(Object(T.a)({},u),{},{status:"stopped"===u.status?"stopped":"paused"})}),[u]),Object(r.useEffect)((function(){if(v){var e=n.timers,t=e.indexOf(f.currentTimerId),r=a[e[t+1]];if(!r){if(!1===u.looping)return d(Object(T.a)(Object(T.a)({},u),{},{status:"stopped"})),j(Object(T.a)(Object(T.a)({},f),{},{remainingTime:0,currentTimerId:""})),void O(!1);r=a[e[0]],j({currentTimerId:r.id,remainingTime:r.time,time:r.time})}return j({currentTimerId:r.id,remainingTime:r.time,time:r.time}),R(r.id),O(!1),function(){}}}),[v]);var E=Object(r.useCallback)(Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getItem("timerCardData"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e]),S=Object(r.useCallback)(Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getItem("runningTimerData"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e]),_=function(){var t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getItem("customSound"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=Object(r.useCallback)(Object(k.a)(C.a.mark((function e(){var t,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return(t=e.sent)&&d(t),e.next=6,S();case 6:return(n=e.sent)&&j(n),e.next=10,_();case 10:(r=e.sent)&&(w.current=r);case 12:case"end":return e.stop()}}),e)}))),[S,E]);Object(r.useEffect)((function(){D()}),[D]);var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if((e=e||f.currentTimerId)||(e=n.timers[0])){var t=a[e];t&&(j(Object(T.a)(Object(T.a)({},f),{},{currentTimerId:e})),b.current.off("finished"),"paused"===u.status?b.current.play(f.remainingTime):b.current.play(t.time),d(Object(T.a)(Object(T.a)({},u),{},{status:"playing"})),b.current.on("finished",(function(){if(z("".concat(n.name," => ").concat(t.name," | completed")),w.current[t.id]){var e=URL.createObjectURL(w.current[t.id]);N(e)}else N(X,2);O(!0)})))}};return{addSound:function(e,t){w.current[e]=t},addTimer:function(e,t){i.addTimerInGroup(e,t)},changeTimerCardName:function(e){i.changeGroupName(e)},removeTimer:function(e){i.deleteTimerFromGroup(e)},chanageTimerTime:function(e,t){i.updateTimer(e,{time:t})},changeTimerName:function(e,t){i.updateTimer(e,{name:t})},deleteTimerCard:function(){i.deleteTimerGroup(),W.removeItem("runningTimerData"+e),W.removeItem("timerCardData"+e)},playCard:R,pausecard:function(){d(Object(T.a)(Object(T.a)({},u),{},{status:"paused"})),b.current.stop()},stopCard:function(){b.current.stop(),d(Object(T.a)(Object(T.a)({},u),{},{status:"stopped"})),j(Object(T.a)(Object(T.a)({},f),{},{remainingTime:0,currentTimerId:""}))},toggleLooping:function(){var t=Object(T.a)(Object(T.a)({},u),{},{looping:!u.looping});d(t),W.setItem("timerCardData"+e,t)},timerStore:a,timerCardData:Object(T.a)(Object(T.a)({},n),u),runningTimer:f}}(e.timerCardId),c=Object.assign({},i),o=Object(r.useState)((function(){return!1})),u=Object(s.a)(o,2),d=u[0],l=u[1],m=q(),f=m.record,j=m.stopRecording;m.audioBlob;return Object(b.jsxs)("div",{className:"bg-white rounded-lg ".concat(a),children:[Object(b.jsx)("div",{className:"flex flex-row-reverse",children:Object(b.jsx)("button",{className:"select-none outline-none rounded-full transition duration-150 hover:elevation-2 transform hover:scale-110",onClick:function(){c.deleteTimerCard(),t(n)},children:Object(b.jsx)("img",{className:"h-6 w-auto",src:p})})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"text-7xl font-mono tracking-tighter font-medium text-center select-none",children:[parseInt(c.runningTimer.remainingTime/60)<=9?"0"+parseInt(c.runningTimer.remainingTime/60):parseInt(c.runningTimer.remainingTime/60),":",c.runningTimer.remainingTime%60<=9?"0"+c.runningTimer.remainingTime%60:c.runningTimer.remainingTime%60]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"flex flex-row justify-between mx-2",children:[Object(b.jsx)("div",{className:"text-center font-medium cursor-pointer",children:Object(b.jsx)("div",{onClick:function(){return l(!0)},children:d?Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.title.value;t&&c.changeTimerCardName(t),l(!1)},onBlur:function(e){e.preventDefault();var t=e.currentTarget.title.value;t&&c.changeTimerCardName(t),l(!1)},children:Object(b.jsx)("input",{autoFocus:!0,type:"text",name:"title"})}):c.timerCardData.name})}),Object(b.jsx)("div",{className:"px-0 user-select-none",children:Object(b.jsx)(x,{looping:c.timerCardData.looping,onChange:function(){return c.toggleLooping()}})})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:" mx-2 h-8 w-auto my-1",children:Object(b.jsx)(g,{isPlaying:"playing"===c.timerCardData.status,onChange:function(e){(e?c.playCard:c.pausecard)()}})}),Object(b.jsx)(w,{isStopped:"stopped"===c.timerCardData.status,onChange:function(e){e&&c.stopCard()}})]}),c.timerCardData.timers.map((function(e){var t,n=c.timerStore[e];return n?Object(b.jsx)(h,{id:n.id,active:(null===(t=c.runningTimer)||void 0===t?void 0:t.currentTimerId)===n.id,onDelete:function(e){c.removeTimer(e)},onNameChange:function(e){return c.changeTimerName(n.id,e)},onTimeChange:function(e){return c.chanageTimerTime(n.id,e)},name:n.name,time:n.time,onRecordStart:function(){f()},onRecordStop:function(){var e=j();c.addSound(n.id,e)}},n.id):null})),Object(b.jsx)("div",{className:"flex justify-center mt-4",children:Object(b.jsx)("button",{className:O.a.add_button,onClick:function(){c.addTimer("unaname",300)},children:"Add Timer"})})]})]})}var K=n(36),Q=Object(r.createContext)({audioStore:{},addAudio:function(e){return""}});var Y=function(e){var t=e.children,n=Object(r.useState)({}),a=Object(s.a)(n,2),i=a[0],c=a[1];return Object(b.jsx)(Q.Provider,{value:{audioStore:i,addAudio:function(e){var t=Object(K.a)();return c(Object(T.a)(Object(T.a)({},i),{},Object(V.a)({},t,e))),t}},children:t})};var Z=function(e){var t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){W.getItem("timerCardList").then((function(e){e&&i(JSON.parse(e))}))}),[]),Object(r.useEffect)((function(){W.setItem("timerCardList",JSON.stringify(a))}),[a]),Object(r.useEffect)((function(){document.body.classList.remove("page-loading"),document.body.classList.add("page-loaded"),document.body.classList.add("bg-gray-50")}),[]);var c=Object(r.useContext)(Q),u=(c.audioStore,c.addAudio),m=q(),f=(m.record,m.stopRecording,m.audioBlob);return Object(r.useEffect)((function(){f&&u(f)}),[f]),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"select-none bg-blue-600 text-white px-4 py-2 rounded-full",onClick:function(){i((function(e){return[].concat(Object(o.a)(e),[Object(l.a)()])}))},children:"Add Timer Card"}),Object(b.jsx)("div",{className:"overflow-auto",children:Object(b.jsx)("div",{className:" ".concat(d.a.hs),style:{alignItems:"flex-start"},children:a.map((function(e){return Object(b.jsx)($,{className:d.a.item,timerCardId:e,onDelete:function(e){i((function(t){return t.filter((function(t){return t!==e}))}))}},e)}))})})]})},ee=a.a.createContext("");function te(e){var t=e.children;return Object(b.jsx)(ee.Provider,{value:"Himanshu",children:t})}var ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(33);c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(te,{children:Object(b.jsx)(Y,{children:Object(b.jsx)(Z,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.filter((function(e){})).map((function(e){return caches.delete(e)})))})))})),window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ne?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):re(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):re(t,e)}))}}()}},[[34,1,2]]]);
//# sourceMappingURL=main.2fe992dd.chunk.js.map