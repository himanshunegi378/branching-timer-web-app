(this.webpackJsonpcountdown_webapp=this.webpackJsonpcountdown_webapp||[]).push([[0],{27:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(16),i=n.n(c),o=n(20),s=n(3),u=(n(27),n(32)),d=n.p+"static/media/close.96841b05.svg",l=n(0);var f=function(e){var t=e.onNameChange,n=e.onTimeChange,a=e.onDelete,c=e.onRecordStart,i=e.onRecordStop,o=e.id,u=e.name,f=e.time,m=e.active,b=Object(r.useState)(),h=Object(s.a)(b,2),j=h[0],p=h[1],v=Object(r.useState)(),g=Object(s.a)(v,2),O=g[0],x=g[1],w=Object(r.useState)((function(){return!1})),T=Object(s.a)(w,2),y=T[0],C=T[1],N=Object(r.useState)("alert-info"),k=Object(s.a)(N,2),I=k[0],S=k[1],E=Object(r.useState)(!1),D=Object(s.a)(E,2),R=D[0],L=D[1];return Object(r.useEffect)((function(){if(f){var e=parseInt(f/60),t=parseInt(f%60);p(e),x(t)}}),[f]),Object(r.useEffect)((function(){S(m?"bg-red-100":"bg-blue-100")}),[m]),Object(l.jsxs)("div",{id:e.id,className:"my-1 rounded-lg ".concat(m?"elevation-4 ":"elevation-1"),children:[Object(l.jsx)("div",{className:"".concat(I," w-full rounded-t-lg  border border-b-0 border-gray-300 px-1 "),children:Object(l.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[Object(l.jsx)("div",{onClick:function(){return C(!0)},children:y?Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),C(!1),t(e.currentTarget.title.value)},onBlur:function(e){t(e.currentTarget.title.value),C(!1)},children:Object(l.jsx)("input",{autoFocus:!0,autoComplete:"off",type:"text",name:"title"})}):u}),Object(l.jsx)("div",{className:"ml-auto mr-4",children:Object(l.jsx)("button",{onClick:function(){(R?i:c)(),L(!R)},children:R?"Stop":"Record"})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"select-none flex items-center rounded-full transition duration-150 hover:elevation-2 transform hover:scale-110",onClick:function(){a(o)},children:Object(l.jsx)("img",{className:"h-4 w-auto",src:d})})})]})}),Object(l.jsx)("div",{className:"border border-t-0 rounded-b-lg  border-gray-300",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=parseInt(e.currentTarget.mins.value),r=parseInt(e.currentTarget.secs.value),a=0;t&&(a+=60*t),r&&(a+=r),n(a)},onBlur:function(e){var t=parseInt(e.currentTarget.mins.value),r=parseInt(e.currentTarget.secs.value),a=0;t&&(a+=60*t),r&&(a+=r),n(a)},className:"text-center py-2",children:[Object(l.jsx)("input",{name:"mins",style:{width:"3em"},type:"number",placeholder:"m",onChange:function(e){return p(e.target.value)},value:j}),Object(l.jsx)("span",{className:"mx-1",children:":"}),Object(l.jsx)("input",{name:"secs",style:{width:"3em"},type:"number",placeholder:"s",onChange:function(e){return x(e.target.value)},value:O})]})})]})},m=n.p+"static/media/close.96841b05.svg";function b(e){var t=e.isPlaying,n=void 0!==t&&t,r=e.onChange,a=void 0===r?function(){}:r;return Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){a(!n)},children:n?Object(l.jsxs)("svg",{style:{fill:"#007bff"},className:"h-8 w-auto",height:"512",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 477.867 477.867",children:[Object(l.jsx)("g",{children:Object(l.jsx)("g",{children:Object(l.jsx)("path",{d:"M187.733,0H51.2c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C204.8,7.641,197.159,0,187.733,0z M170.667,443.733h-102.4v-409.6h102.4V443.733z"})})}),Object(l.jsx)("g",{children:Object(l.jsx)("g",{children:Object(l.jsx)("path",{d:"M426.667,0H290.133c-9.426,0-17.067,7.641-17.067,17.067V460.8c0,9.426,7.641,17.067,17.067,17.067h136.533 c9.426,0,17.067-7.641,17.067-17.067V17.067C443.733,7.641,436.092,0,426.667,0z M409.6,443.733H307.2v-409.6h102.4V443.733z"})})})]}):Object(l.jsx)("svg",{style:{fill:"#007bff"},className:"h-8 w-auto",height:"512",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 477.886 477.886",children:Object(l.jsx)("g",{children:Object(l.jsx)("g",{children:Object(l.jsx)("path",{d:"M476.091,231.332c-1.654-3.318-4.343-6.008-7.662-7.662L24.695,1.804C16.264-2.41,6.013,1.01,1.8,9.442 c-1.185,2.371-1.801,4.986-1.8,7.637v443.733c-0.004,9.426,7.633,17.07,17.059,17.075c2.651,0.001,5.266-0.615,7.637-1.8 L468.429,254.22C476.865,250.015,480.295,239.768,476.091,231.332z M34.133,433.198V44.692l388.506,194.253L34.133,433.198z"})})})})})}function h(e){var t=e.looping,n=void 0!==t&&t,r=e.onChange,a=void 0===r?function(){}:r;return Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){a(!n)},children:n?Object(l.jsxs)("svg",{className:"h-8 w-auto",style:{fill:"#007bff"},id:"Layer",enableBackground:"new 0 0 64 64",height:"512",viewBox:"0 0 64 64",width:"512",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"m19 25h9c1.104 0 2-.896 2-2s-.896-2-2-2h-9c-6.065 0-11 4.935-11 11s4.935 11 11 11h4.172l-1.586 1.586c-.781.781-.781 2.047 0 2.828.391.391.902.586 1.414.586s1.023-.195 1.414-.586l5-5c.781-.781.781-2.047 0-2.828l-5-5c-.781-.781-2.047-.781-2.828 0s-.781 2.047 0 2.828l1.586 1.586h-4.172c-3.859 0-7-3.141-7-7 0-3.86 3.141-7 7-7z"}),Object(l.jsx)("path",{d:"m45 21h-4.172l1.586-1.586c.781-.781.781-2.047 0-2.828s-2.047-.781-2.828 0l-5 5c-.781.781-.781 2.047 0 2.828l5 5c.391.391.902.586 1.414.586s1.023-.195 1.414-.586c.781-.781.781-2.047 0-2.828l-1.586-1.586h4.172c3.859 0 7 3.14 7 7 0 3.859-3.141 7-7 7h-9c-1.104 0-2 .896-2 2s.896 2 2 2h9c6.065 0 11-4.935 11-11s-4.935-11-11-11z"})]}):Object(l.jsxs)("svg",{className:"h-8 w-auto",style:{fill:" #dadada"},id:"Layer",enableBackground:"new 0 0 64 64",height:"512",viewBox:"0 0 64 64",width:"512",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"m19 25h9c1.104 0 2-.896 2-2s-.896-2-2-2h-9c-6.065 0-11 4.935-11 11s4.935 11 11 11h4.172l-1.586 1.586c-.781.781-.781 2.047 0 2.828.391.391.902.586 1.414.586s1.023-.195 1.414-.586l5-5c.781-.781.781-2.047 0-2.828l-5-5c-.781-.781-2.047-.781-2.828 0s-.781 2.047 0 2.828l1.586 1.586h-4.172c-3.859 0-7-3.141-7-7 0-3.86 3.141-7 7-7z"}),Object(l.jsx)("path",{d:"m45 21h-4.172l1.586-1.586c.781-.781.781-2.047 0-2.828s-2.047-.781-2.828 0l-5 5c-.781.781-.781 2.047 0 2.828l5 5c.391.391.902.586 1.414.586s1.023-.195 1.414-.586c.781-.781.781-2.047 0-2.828l-1.586-1.586h4.172c3.859 0 7 3.14 7 7 0 3.859-3.141 7-7 7h-9c-1.104 0-2 .896-2 2s.896 2 2 2h9c6.065 0 11-4.935 11-11s-4.935-11-11-11z"})]})})}var j=function(e){var t=e.isStopped,n=e.onChange,r=void 0===n?function(){}:n;return Object(l.jsx)("div",{className:"cursor-pointer",onClick:function(){return r(!t)},children:t?Object(l.jsx)("div",{className:"mx-2 h-auto my-1",style:{width:"2rem"},children:Object(l.jsx)("svg",{style:{fill:"#dadada"},className:"h-8 w-auto",id:"Capa_1",enableBackground:"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsxs)("g",{children:[Object(l.jsx)("path",{d:"m256 0c-141.159 0-256 114.841-256 256s114.841 256 256 256 256-114.841 256-256-114.841-256-256-256zm115 356c0 8.284-6.716 15-15 15h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15z"}),Object(l.jsx)("path",{d:"m171 171h170v170h-170z"})]})})}):Object(l.jsx)("div",{className:"mx-2 h-auto my-1",style:{width:"2rem"},children:Object(l.jsx)("svg",{className:"h-8 w-auto",style:{fill:"#007bff"},id:"Capa_1",enableBackground:"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsxs)("g",{children:[Object(l.jsx)("path",{d:"m256 0c-141.159 0-256 114.841-256 256s114.841 256 256 256 256-114.841 256-256-114.841-256-256-256zm115 356c0 8.284-6.716 15-15 15h-200c-8.284 0-15-6.716-15-15v-200c0-8.284 6.716-15 15-15h200c8.284 0 15 6.716 15 15z"}),Object(l.jsx)("path",{d:"m171 171h170v170h-170z"})]})})})})},p=n(2),v=n(4),g=n.n(v),O=n(5),x=n(21),w=n(10),T=n(17),y=n(22),C=n(19),N=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.call(this,"tick","finished")).intervalId=void 0,e.intervalId=-1,e}return Object(T.a)(n,[{key:"play",value:function(e){var t=this;this.stop();var n,r=Date.now(),a=function(){n=e-((Date.now()-r)/1e3|0),t.trigger("tick",n),n<=0&&(r=Date.now()+1e3,t.stop(),t.trigger("finished"))};a(),this.intervalId=window.setInterval(a,1e3)}},{key:"stop",value:function(){clearInterval(this.intervalId)}}]),n}((function e(){Object(w.a)(this,e);for(var t={},n=this,r=0,a=0;a<arguments.length;a++){var c=arguments[a];switch(typeof c){case"string":t[c]=[],r++;break;case"object":n=c;break;default:throw new TypeError("Eventjs() only accepts string and object parameters")}}if(0===r)throw new Error("There should be at least one event name (string) for the Eventjs to be useful.");if(n===this&&!(this instanceof e))throw new ReferenceError('Eventjs is not called with "new" keyword and no parameter of type object is passed to it');function i(e){if("string"!==typeof e||!t[e])throw new ReferenceError("The event name does not exist in this event manager: "+e);return!0}return n.on=function(e){i(e);for(var n=1;n<arguments.length;n++){var r=arguments[n];-1===t[e].indexOf(r)&&t[e].push(r)}return this},n.off=function(e){switch(arguments.length){case 0:for(var r in t)t.hasOwnProperty(r)&&n.off(r);break;case 1:i(e),t[e].length=0;break;default:i(e);for(var a=1;a<arguments.length;a++){var c=arguments[a],o=t[e].indexOf(c);-1!==o&&t[e].splice(o,1)}}return this},n.trigger=function(e){i(e);for(var r=[],a=1;a<arguments.length;a++)r.push(arguments[a]);for(var c=t[e],o=[],s=0;s<c.length;s++){var u=c[s];try{u.apply(n,r)}catch(l){o.push({listener:u,error:l})}}if(o.length>0){var d=new Error("At least one of the event listeners was interrupted with an error. See errors");throw console.log(o),d.errors=o,d}return this},n}));function k(e,t){try{return new Notification(e,t),!0}catch(n){console.log(n)}navigator.serviceWorker.getRegistration().then((function(e){return!!e&&(e.showNotification("TimerCards",t),!0)})).catch((function(e){return console.log(e),!1}))}var I=function(e){if("Notification"in window){if("granted"===Notification.permission)return k("TimerCards",{body:e,vibrate:[200,100,200,100,200,100,200]});"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){if("granted"===t)return k("TimerCards",{body:e,vibrate:[200,100,200,100,200,100,200]})}))}else alert("This browser does not support desktop notification")},S=n(18);function E(){var e=Object(r.useState)(-1),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useRef)(null);return{play:function(e,t){c.current=new S.Howl({src:[e],format:["webm"]});var n=c.current.play();t&&setTimeout((function(){c.current&&c.current.stop(n)}),1e3*t),a(n)},pause:function(){c.current&&c.current.pause(n)},stop:function(){c.current&&c.current.stop(n)}}}var D=n(6),R=n.n(D);R.a.setDriver([R.a.INDEXEDDB,R.a.LOCALSTORAGE]);var L={getItem:function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.getItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setItem:function(e,t){return R.a.setItem(e,t)},removeItem:function(e){return R.a.removeItem(e)}},B=n(7);function z(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),n=t[0],a=t[1];function c(e){return i.apply(this,arguments)}function i(){return(i=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getItem(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){L.setItem(e.id,e)}function d(){return(d=Object(O.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=[],t.forEach((function(e){r.push(c(e).then((function(t){t&&(n[e]=t)})))})),e.next=5,Promise.all(r);case 5:return a(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{init:function(e){return d.apply(this,arguments)},addTimer:function(e,t){var r=function(e,t){return{id:Object(u.a)(),name:e,time:t}}(e,t);return a(Object(p.a)(Object(p.a)({},n),{},Object(B.a)({},r.id,r))),o(r),r},getTimer:function(e){return n[e]},deleteTimer:function(e){var t=Object(p.a)({},n);delete t[e],function(e){L.removeItem(e)}(e),a(t)},updateTimer:function(e,t){var r=Object(p.a)({},n);r[e].name=t.name||r[e].name,r[e].time=t.time||r[e].time,o(r[e]),a(r)},timerStore:n}}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unname",n=Object(r.useState)({id:e,name:t,timers:[]}),a=Object(s.a)(n,2),c=a[0],i=a[1],o=z(),u=o.init,d=o.addTimer,l=o.getTimer,f=o.deleteTimer,m=o.updateTimer,b=o.timerStore;Object(r.useEffect)((function(){e&&v(e).then((function(e){if(e){var t=e.timers;u(t).then((function(){i(e)}))}}))}),[e]);var h=function(e){L.setItem(e.id,e)},j=function(e){L.removeItem(e.id)},v=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getItem(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(e,t){var n=d(e,t),r=Object(p.a)({},c);return r.timers.push(n.id),h(r),i(r),r}function w(e){var t=Object(p.a)({},c),n=t.timers.filter((function(t){return t!==e}));return n.length!==t.timers.length&&f(e),t.timers=n,h(t),i(t),t}function T(){c.timers.forEach((function(e){f(e)})),j(c)}function y(e){e&&(i(Object(p.a)(Object(p.a)({},c),{},{name:e})),h(Object(p.a)(Object(p.a)({},c),{},{name:e})))}return{addTimerInGroup:x,deleteTimerFromGroup:w,deleteTimerGroup:T,changeGroupName:y,timerGroupStore:c,updateTimer:m,getTimer:l,timerStore:b}}var G=n.p+"static/media/alarm.4ef57659.mp3";function W(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useRef)([]),a=Object(r.useState)(),c=Object(s.a)(a,2),i=c[0],o=c[1];function u(){return(u=Object(O.a)(g.a.mark((function r(){return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 2:e.current=r.sent,n.current=[],t.current=new MediaRecorder(e.current,{mimeType:"audio/webm"}),t.current.addEventListener("dataavailable",(function(e){e.data.size>0&&n.current.push(e.data)})),t.current.addEventListener("stop",(function(e){if(n.current){var t=Object(s.a)(n.current,1)[0];o(new Blob(n.current,{type:t.type}))}})),t.current.start(100);case 8:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return{record:function(){return u.apply(this,arguments)},stopRecording:function(){t.current&&(t.current.stop(),t.current=null),e.current&&(e.current.getTracks().forEach((function(e){return e.stop()})),e.current=null);var r=Object(s.a)(n.current,1)[0];return new Blob(n.current,{type:r.type})},audioBlob:i}}function P(e){var t=e.onDelete,n=e.timerCardId,a=function(e){var t=A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unnamed"),n=t.timerGroupStore,a=t.timerStore,c=Object(x.a)(t,["timerGroupStore","timerStore"]),i=Object(r.useState)({looping:!1,status:"stopped",alarmSound:{}}),o=Object(s.a)(i,2),u=o[0],d=o[1],l=Object(r.useState)({currentTimerId:"",remainingTime:0,time:0}),f=Object(s.a)(l,2),m=f[0],b=f[1],h=Object(r.useRef)(new N),j=Object(r.useState)(!1),v=Object(s.a)(j,2),w=v[0],T=v[1],y=Object(r.useRef)(m),C=Object(r.useRef)(u),k=Object(r.useRef)({}),S=E(),D=S.play;S.pause,S.stop,Object(r.useEffect)((function(){if(e){var t=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.setItem("runningTimerData"+e,y.current);case 2:return t.next=4,L.setItem("timerCardData"+e,C.current);case 4:return console.log(k.current),t.next=7,L.setItem("customSound"+e,k.current);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}}),[e]),Object(r.useEffect)((function(){var e=function(e){b((function(t){var n=Object.assign({},t);return Object(p.a)(Object(p.a)({},n),{},{remainingTime:e})}))},t=h.current;return t.on("tick",e),function(){t.off("tick",e)}}),[]),Object(r.useEffect)((function(){y.current=m}),[m]),Object(r.useEffect)((function(){C.current=Object(p.a)(Object(p.a)({},u),{},{status:"stopped"===u.status?"stopped":"paused"})}),[u]),Object(r.useEffect)((function(){if(w){var e=n.timers,t=e.indexOf(m.currentTimerId),r=a[e[t+1]];if(!r){if(!1===u.looping)return d(Object(p.a)(Object(p.a)({},u),{},{status:"stopped"})),b(Object(p.a)(Object(p.a)({},m),{},{remainingTime:0,currentTimerId:""})),void T(!1);r=a[e[0]],b({currentTimerId:r.id,remainingTime:r.time,time:r.time})}return b({currentTimerId:r.id,remainingTime:r.time,time:r.time}),P(r.id),T(!1),function(){}}}),[w]);var R=Object(r.useCallback)(Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getItem("timerCardData"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e]),B=Object(r.useCallback)(Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getItem("runningTimerData"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e]),z=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getItem("customSound"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=Object(r.useCallback)(Object(O.a)(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return(t=e.sent)&&d(t),e.next=6,B();case 6:return(n=e.sent)&&b(n),e.next=10,z();case 10:(r=e.sent)&&(k.current=r);case 12:case"end":return e.stop()}}),e)}))),[B,R]);Object(r.useEffect)((function(){W()}),[W]);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if((e=e||m.currentTimerId)||(e=n.timers[0])){var t=a[e];t&&(b(Object(p.a)(Object(p.a)({},m),{},{currentTimerId:e})),h.current.off("finished"),"paused"===u.status?h.current.play(m.remainingTime):h.current.play(t.time),d(Object(p.a)(Object(p.a)({},u),{},{status:"playing"})),h.current.on("finished",(function(){if(I("".concat(n.name," => ").concat(t.name," | completed")),k.current[t.id]){var e=URL.createObjectURL(k.current[t.id]);D(e)}else D(G,2);T(!0)})))}};return{addSound:function(e,t){k.current[e]=t},addTimer:function(e,t){c.addTimerInGroup(e,t)},changeTimerCardName:function(e){c.changeGroupName(e)},removeTimer:function(e){c.deleteTimerFromGroup(e)},chanageTimerTime:function(e,t){c.updateTimer(e,{time:t})},changeTimerName:function(e,t){c.updateTimer(e,{name:t})},deleteTimerCard:function(){c.deleteTimerGroup(),L.removeItem("runningTimerData"+e),L.removeItem("timerCardData"+e)},playCard:P,pausecard:function(){d(Object(p.a)(Object(p.a)({},u),{},{status:"paused"})),h.current.stop()},stopCard:function(){h.current.stop(),d(Object(p.a)(Object(p.a)({},u),{},{status:"stopped"})),b(Object(p.a)(Object(p.a)({},m),{},{remainingTime:0,currentTimerId:""}))},toggleLooping:function(){var t=Object(p.a)(Object(p.a)({},u),{},{looping:!u.looping});d(t),L.setItem("timerCardData"+e,t)},timerStore:a,timerCardData:Object(p.a)(Object(p.a)({},n),u),runningTimer:m}}(e.timerCardId),c=Object.assign({},a),i=Object(r.useState)((function(){return!1})),o=Object(s.a)(i,2),u=o[0],d=o[1],v=W(),w=v.record,T=v.stopRecording;v.audioBlob;return Object(l.jsx)("div",{className:"mx-4 my-1 bg-white elevation-2 rounded-lg",children:Object(l.jsxs)("div",{className:"p-2 border rounded-lg border-gray-300",style:{width:"25%",minWidth:"265px",maxWidth:"265px"},children:[Object(l.jsx)("div",{className:"flex flex-row-reverse",children:Object(l.jsx)("button",{className:"select-none outline-none rounded-full transition duration-150 hover:elevation-2 transform hover:scale-110",onClick:function(){c.deleteTimerCard(),t(n)},children:Object(l.jsx)("img",{className:"h-6 w-auto",src:m})})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"text-7xl font-mono tracking-tighter font-medium text-center select-none",children:[parseInt(c.runningTimer.remainingTime/60)<=9?"0"+parseInt(c.runningTimer.remainingTime/60):parseInt(c.runningTimer.remainingTime/60),":",c.runningTimer.remainingTime%60<=9?"0"+c.runningTimer.remainingTime%60:c.runningTimer.remainingTime%60]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"flex flex-row justify-between mx-2",children:[Object(l.jsx)("div",{className:"text-center font-medium cursor-pointer",children:Object(l.jsx)("div",{onClick:function(){return d(!0)},children:u?Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.title.value;t&&c.changeTimerCardName(t),d(!1)},onBlur:function(e){e.preventDefault();var t=e.currentTarget.title.value;t&&c.changeTimerCardName(t),d(!1)},children:Object(l.jsx)("input",{autoFocus:!0,type:"text",name:"title"})}):c.timerCardData.name})}),Object(l.jsx)("div",{className:"px-0 user-select-none",children:Object(l.jsx)(h,{looping:c.timerCardData.looping,onChange:function(){return c.toggleLooping()}})})]}),Object(l.jsxs)("div",{className:"flex",children:[Object(l.jsx)("div",{className:" mx-2 h-8 w-auto my-1",children:Object(l.jsx)(b,{isPlaying:"playing"===c.timerCardData.status,onChange:function(e){(e?c.playCard:c.pausecard)()}})}),Object(l.jsx)(j,{isStopped:"stopped"===c.timerCardData.status,onChange:function(e){e&&c.stopCard()}})]}),c.timerCardData.timers.map((function(e){var t,n=c.timerStore[e];return Object(l.jsx)(f,{id:n.id,active:(null===(t=c.runningTimer)||void 0===t?void 0:t.currentTimerId)===(null===n||void 0===n?void 0:n.id),onDelete:function(e){c.removeTimer(e)},onNameChange:function(t){return c.changeTimerName(e,t)},onTimeChange:function(t){return c.chanageTimerTime(e,t)},name:n.name,time:n.time,onRecordStart:function(){w()},onRecordStop:function(){var t=T();c.addSound(e,t)}},n.id)})),Object(l.jsx)("div",{className:"flex justify-center mt-4",children:Object(l.jsx)("button",{className:" bg-blue-600 px-4 py-1 rounded-md text-white select-none transition duration-150 hover:elevation-4 transform hover:scale-110 hover:bg-blue-700",onClick:function(){c.addTimer("unaname",300)},children:"Add Timer"})})]})]})})}var M=n(33),U=Object(r.createContext)({audioStore:{},addAudio:function(e){return""}});var V=function(e){var t=e.children,n=Object(r.useState)({}),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(l.jsx)(U.Provider,{value:{audioStore:c,addAudio:function(e){var t=Object(M.a)();return i(Object(p.a)(Object(p.a)({},c),{},Object(B.a)({},t,e))),t}},children:t})};var _=function(e){var t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){L.getItem("timerCardList").then((function(e){e&&c(JSON.parse(e))}))}),[]),Object(r.useEffect)((function(){L.setItem("timerCardList",JSON.stringify(a))}),[a]),Object(r.useEffect)((function(){document.body.classList.remove("page-loading"),document.body.classList.add("page-loaded"),document.body.classList.add("bg-gray-50")}),[]);var i=Object(r.useContext)(U),d=(i.audioStore,i.addAudio),f=W(),m=(f.record,f.stopRecording,f.audioBlob);return Object(r.useEffect)((function(){m&&d(m)}),[m]),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"select-none bg-blue-600 text-white px-4 py-2 rounded-full",onClick:function(){c((function(e){return[].concat(Object(o.a)(e),[Object(u.a)()])}))},children:"Add Timer Card"}),Object(l.jsx)("div",{className:"overflow-auto",children:Object(l.jsx)("div",{className:"flex",style:{alignItems:"flex-start"},children:a.map((function(e){return Object(l.jsx)(P,{timerCardId:e,onDelete:function(e){c((function(t){return t.filter((function(t){return t!==e}))}))}},e)}))})})]})},H=a.a.createContext("");function F(e){var t=e.children;return Object(l.jsx)(H.Provider,{value:"Himanshu",children:t})}var J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(30);i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(F,{children:Object(l.jsx)(V,{children:Object(l.jsx)(_,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then((function(e){return Promise.all(e.filter((function(e){})).map((function(e){return caches.delete(e)})))})))})),window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(t,e)}))}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.d7cc8be6.chunk.js.map